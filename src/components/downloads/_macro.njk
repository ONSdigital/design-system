{% macro onsDownloads(params) %}

    {% for download in (params.downloads if params.downloads is iterable else params.downloads.items()) %}
    <div class="download{{ ' ' + params.classes if params.classes else '' }}">

        <div class="download__image" aria-hidden="true">
            <a class="download__image-link" href="{{ download.url }}" tabindex="-1">
                <img srcset="{{ download.thumbnail.path }}small/{{ download.thumbnail.filename }} 1x, {{ download.thumbnail.path }}large/{{ download.thumbnail.filename }} 2x" src="{{ download.thumbnail.path }}small/{{ download.thumbnail.filename }}" alt="{{ download.thumbnail.alt }}">
            </a>
        </div>

        <div class="download__content">
            
            <h3 class="u-fs-m u-mb-xs">
                <a href="{{ download.url }}">{{ download.title }}{% if download.meta is defined %}<span class="u-vh">, {% if download.meta.fileType is defined %}{{ download.meta.fileType }} document download, {% endif %}{% if download.meta.fileSize is defined %}{{ download.meta.fileSize }}, {% endif %}{% if download.meta.filePages is defined %}{{ download.meta.filePages }}{% endif %}</span>{% endif %}</a>
            </h3>

            <span class="u-fs-s u-mb-xs download__meta" aria-hidden="true">
                {%- if download.type is defined %}{{ download.type }}{% endif %}
                {%- if download.meta is defined %}, {% if download.meta.fileType is defined %}{{ download.meta.fileType }}, {% endif %}{% if download.meta.fileSize is defined %}{{ download.meta.fileSize }}, {% endif %}{% if download.meta.filePages is defined %}{{ download.meta.filePages }}{% endif %}{% endif %}
            </span>
            
            {% if download.excerpt is defined %}
                <p class="download__excerpt">{{ download.excerpt | safe }}</p>
            {% endif %}

        </div>

    </div>
    {% endfor %}

{% endmacro %}
