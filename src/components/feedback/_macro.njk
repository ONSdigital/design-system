{% macro onsFeedback(params) %}
    {% from "components/textarea/_macro.njk" import onsTextarea %}
    {% from "components/field/_macro.njk" import onsField %}
    {% from "components/button/_macro.njk" import onsButton %}
    {% from "components/radios/_macro.njk" import onsRadios %}
    {% from "components/collapsible/_macro.njk" import onsCollapsible %}

    <div class="feedback {{ params.classes }}">
        <h2>What do you think about this service?</h2>
        <p>Your comments will help us make improvements</p>
        {%
            call onsCollapsible({
                "id": "feedbackCollapsible",
                "title": "Give feedback"
            })
        %}
            {{
                onsRadios({
                    "legend": "Select your favourite topping",
                    "name": "food",
                    "radios": [
                        {
                            "id": "questions",
                            "label": {
                                "text": "The census questions",
                                "description": "For example, questions not clear, answer options not relevant"
                            },
                            "value": "questions"
                        },
                        {
                            "id": "design",
                            "label": {
                                "text": "Page design and structure"
                            },
                            "value": "design"
                        },
                        {
                            "id": "general",
                            "label": {
                                "text": "General feedback about this service"
                            },
                            "value": "general"
                        }
                    ]
                })
            }}
            {{
                onsTextarea({
                    "id": "feedback-textarea",
                    "name": "feedback-text",
                    "classes": "input--w-30",
                    "label": {
                        "text": "Enter your feedback",
                        "description": "Do not include confidential information, such as your contact details"
                    },
                    "charCheckLimit": {
                        "limit": 1000,
                        "charCountSingular": "You have {x} character remaining",
                        "charCountPlural": "You have {x} characters remaining"
                    }
                })
            }}
            {{
                onsButton({
                    "text": "Send feedback"
                })
            }}
        {% endcall %}
    </div>
{% endmacro %}
