{% from "components/navigation/_macro.njk" import onsNavigation %}
{% from "components/button/_macro.njk" import onsButton %}

<header class="header {{ params.classes if params.classes }}">
    {% if params.beta %}
        {% from "components/beta-bar/_macro.njk" import onsBetaBar %}
        {{ onsBetaBar(params.beta) }}
    {% endif %}
    <div class="header__top" role="banner">
        <div class=" container{{ ' container--full-width' if params.fullWidth }}">
            <div class="header__grid-top grid grid--gutterless grid--flex grid--between grid--vertical-center grid--no-wrap">
                <div class="grid__col col-auto">
                    <div class="logo">
                        <img src="/img/ons-logo-black-en.svg" alt="Office for National Statistics logo" class="logo__img header__logo--print">
                        <a href="{{ params.logoHref | default('/') }}">
                            <img src="{{ '/' + params.version if params.version  }}/img/{{ params.logo | default('ons-logo-pos') }}.svg" alt="Office for National Statistics logo" class="logo__img header__logo print__hidden">
                        </a>
                    </div>
                </div>
                {% if params.language or params.serviceLinks %}
                    <div class="header__links grid__col col-auto">
                        {% if params.language %}
                            <div class="grid__col col-auto u-d-no@xs@m {{ 'u-mr-s@m' if params.serviceLinks }}">
                                {% from "components/language-selector/_macro.njk" import onsLanguageSelector %}
                                {{
                                    onsLanguageSelector(params.language)
                                }}
                            </div>
                        {% endif %}
                        {% if params.serviceLinks %}
                            <div class="grid__col col-auto u-d-no@xs@m">
                                {{ onsNavigation(params.serviceLinks) }}
                            </div>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="header__main">
        <div class="container{{ ' container--full-width' if params.fullWidth }}">
            <div class="grid grid--gutterless grid--flex grid--between grid--vertical-center grid--no-wrap">
                <div class="grid__col col-auto u-flex-shrink">
                    <h1 class="header__title">{{ params.title }}</h1>
                    {% if params.desc %}
                        <p class="header__desc">{{ params.desc }}</p>
                    {% endif %}
                </div>
                {% if params.button %}
                    <div class="grid__col col-auto u-flex-no-shrink">
                        {{ onsButton({
                            "text": params.button.text,
                            "classes": "btn--ghost u-d-no@xs@m"
                        }) }}
                    </div>
                {% endif %}
                {% if params.toggleButton %}
                    <div class="grid__col col-auto u-flex-no-shrink">
                        {{ onsButton({
                            "buttonToggleAttributes": true,
                            "text": params.toggleButton.text,
                            "ariaControls": params.navigation.id,
                            "ariaLabel": params.toggleButton.ariaLabel,
                            "classes": "btn--mobile js-toggle-main"
                        }) }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% if params.navigation %}
        <div class="header__nav">
            <div class="container container--gutterless@xs@m{{ ' container--full-width' if params.fullWidth }}">
                {{ onsNavigation(params.navigation) }}
            </div>
        </div>
    {% endif %}
</header>
