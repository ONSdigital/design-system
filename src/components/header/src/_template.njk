{% from "components/navigation/src/_macro.njk" import onsNavigation %}
<header class="header {{ params.classes if params.classes }}">
    {% if params.beta %}
        {% from "components/beta-bar/src/_macro.njk" import onsBetaBar %}
        {{ onsBetaBar(params.beta) }}
    {% endif %}
    <div class="header__top" role="banner">
        <div class=" container{{ ' container--full-width' if params.fullWidth }}">
            <div class="header__grid-top grid grid--gutterless grid--flex grid--between grid--vertical-center grid--no-wrap">
                <div class="grid__col col-auto">
                    <div class="logo">
                        <img src="/img/ons-logo-black-en.svg" alt="Office for National Statistics logo" class="logo__img header__logo--print">
                        <a href="{{ params.logoHref | default('/') }}">
                            <img src="/img/{{ params.logo | default('ons-logo-pos') }}.svg" alt="Office for National Statistics logo" class="logo__img header__logo print__hidden">
                        </a>
                    </div>
                </div>
                {% if params.language or params.serviceLinks %}
                    <div class="header__links grid__col col-auto">
                        {% if params.language %}
                            <div class="grid__col col-auto u-d-no@xs@m {{ 'u-mr-s@m' if params.serviceLinks }}">
                                {% from "components/language-selector/src/_macro.njk" import onsLanguageSelector %}
                                {{
                                    onsLanguageSelector(params.language)
                                }}
                            </div>
                        {% endif %}
                        {% if params.serviceLinks %}
                            <div class="grid__col col-auto u-d-no@xs@m">
                                {{ onsNavigation(params.serviceLinks) }}
                            </div>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="header__main">
        <div class="container{{ ' container--full-width' if params.fullWidth }}">
            <div class="grid grid--gutterless grid--flex grid--between grid--vertical-center grid--no-wrap">
                <div class="grid__col col-auto u-flex-shrink">
                    <h1 class="header__title">{{ params.title }}</h1>
                    {% if params.desc %}
                        <p class="header__desc">{{ params.desc }}</p>
                    {% endif %}
                </div>
                {% if params.button %}
                    <div class="grid__col col-auto u-flex-no-shrink">
                        {% from "components/button/src/_macro.njk" import onsButton %}
                        {{ onsButton({
                            "text": params.button.text,
                            "html": params.button.html,
                            "type": params.button.submit,
                            "name": params.button.name,
                            "value": params.button.value,
                            "element": params.button.element,
                            "id": params.button.id,
                            "classes": "btn--ghost u-d-no@xs@s" + params.button.classes | default(""),
                            "attributes": params.button.attributes,
                            "url": params.button.url
                        }) }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% if params.navigation %}
        <div class="header__nav">
            <div class="container{{ ' container--full-width' if params.fullWidth }}">
                {{ onsNavigation(params.navigation) }}
            </div>
        </div>
    {% endif %}
</header>
