{% from "components/details/_macro.njk" import onsDetails %}

<div id="{{params.id}}" class="accordion{{ ' ' + params.classes if params.classes }}">
    {% if params.openAll and params.closeAll %}
        {% from "components/button/_macro.njk" import onsButton %}
        {{
            onsButton({
                "text": params.openAll,
                "classes": "btn--secondary btn--small js-collapsible-all u-wa--@xs u-mb-s u-d-no",
                "attributes": {
                    "data-ga": "click",
                    "data-ga-category": "accordion",
                    "data-ga-action": "Toggle all panels",
                    "data-ga-label": params.openAll,
                    "data-close-all": params.closeAll,
                    "data-group": params.id
                }
            })
        }}
    {% endif %}
    {% for item in params.items %}
        {{
            onsDetails({
                "isAccordion": true,
                "id": params.id + "-" + loop.index,
                "buttonOpen": params.buttonOpen,
                "buttonClose": params.buttonClose,
                "title": item.title,
                "content": item.content,
                "group": params.id
            })
        }}
    {% endfor %}
</div>
