{%- from "components/field/src/_macro.njk" import onsField -%}
{%- from "components/input/src/_macro.njk" import onsInput -%}
{%- from "components/checkboxes/src/_checkbox-macro.njk" import onsCheckbox -%}

{%- set exclusiveClass = "" -%}
{%- if params.mutuallyExclusive -%}
    {%- set exclusiveClass = " field--exclusive" -%}
    {%- set fieldExclusiveClass = " js-exclusive-group" -%}
{%- endif -%}

{% call onsField({
    id: params.id,
    legend: params.legend,
    description: params.description,
    classes: exclusiveClass,
    mutuallyExclusive: params.mutuallyExclusive
}) %}
    <div class="field__group">
        <div class="field__item">
            {{
                onsInput({
                    id: params.id + "-day",
                    type: "number",
                    classes: "input--w-2" + fieldExclusiveClass | default(""),
                    attributes: {
                        min: 1,
                        max: 31
                    },
                    label: {
                        text: params.dayLabel,
                        type: "number",
                        classes: "u-fs-r"
                    },
                    value: params.dayValue
                })
            }}
        </div>
        <div class="field__item">
            {{
                onsInput({
                    id: params.id + "-month",
                    type: "number",
                    classes: "input--w-2" + fieldExclusiveClass | default(""),
                    attributes: {
                        min: 1,
                        max: 12
                    },
                    label: {
                        text: params.monthLabel,
                        type: "number",
                        classes: "u-fs-r"
                    },
                    value: params.monthValue
                })
            }}
        </div>
        <div class="field__item">
            {{
                onsInput({
                    id: params.id + "-year",
                    type: "number",
                    classes: "input--w-4" + fieldExclusiveClass | default(""),
                    attributes: {
                        min: 1000,
                        max: 3000
                    },
                    label: {
                        text: params.yearLabel,
                        type: "number",
                        classes: "u-fs-r"
                    },
                    value: params.yearValue
                })
            }}
        </div>
    </div>
{% endcall %}
