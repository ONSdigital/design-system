{% macro onsSearch(params) %}
    {% from "components/button/_macro.njk" import onsButton %}

    {% set content = caller() %}

    <div class="ons-search-component">
        {{ content | safe }}
            
        {%- set buttonLabel -%}
            {%- if params.searchButton.visuallyHideButtonText == true -%}
                <span class="ons-u-vh">{{ params.searchButton.text }}</span>
            {%- else -%}
                {{ params.searchButton.text }}
            {%- endif -%}
        {%- endset -%}

        {{
            onsButton({
                "type": params.searchButton.type,
                "html": buttonLabel,
                "id": params.searchButton.id,
                "variants": 'small',
                "classes": 'ons-search__btn ons-u-mt-xs@xxs@s' + (" " + params.searchButton.classes if params.searchButton.classes else ""),
                "attributes": params.searchButton.attributes,
                "iconType": params.searchButton.iconType,
                "iconPosition": 'only' if params.searchButton.visuallyHideButtonText == true else 'before'
            })
        }}
    </div>
{% endmacro %}
