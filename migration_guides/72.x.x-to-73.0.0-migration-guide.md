# Migration Guide from version 72.x.x to 73.0.0

# Introduction

This document outlines the steps needed to migrate to version 73.0.0 of our Design System library from versions 72.x.x. This release includes several breaking-changes that may impact your projects. Please follow this guide to ensure a smooth transition.

## Components

This section will list all the changes that are specific to one component.

### List of components

-   [Button](#button)
-   [Table of Contents](#table-of-contents)
-   [Feedback](#feedback)

### **_Button_**

**_Increased heights of buttons_**

[**Link to PR**](https://github.com/ONSdigital/design-system/pull/3502)

-   **Description of change:** Increased height of the button to sit in the 8px grid
-   **Reason for change:** As we have recently changed the size of our `rems` to be `16px` we needed to increase the height of the buttons to sit in the updated grid.

-   **Migration steps:**

    1. Locate all instances of the button component in your codebase.
    2. Check the example (Note: nothing needs to change in the config):

    -   <details>
         <summary><b>Click for example:</b></summary>

        ```njk
        //OLD
        {% from "components/button/_macro.njk" import onsButton %}
            {{
                onsButton({
                    "text": "Save and continue"
                })
            }}

        //NEW
        {% from "components/button/_macro.njk" import onsButton %}
            {{
                onsButton({
                    "text": "Save and continue"
                })
            }}
        ```

         </details>

    3. Inspect and check that button's height is increased and that it now sits on the grid

### **_Table of Contents_**

**_Renamed utility class from ons-js-toc-container to ons-js-table-of-contents-container_**

[**Link to PR**](https://github.com/ONSdigital/design-system/pull/3650)

-   **Description of change:** The following classes have been renamed:

    -   `ons-js-toc-container to ons-js-table-of-contents-container`

-   **Reason for change:** The `ons-js-toc-container` utility class has been updated to remove the toc acronym.

    This will be a breaking change and will require the update of the old classes name with the new one:

-   **Components impacted:**

    Table of Contents Component

-   **Migration steps:**

    1. Locate all instances of the above classes in your codebase.
    2. Replace the old class name with the new one.

    -   <details>
        <summary><b>Click for example:</b></summary>

        ```html
        OLD
        <div class="ons-grid ons-js-toc-container"></div>

        NEW
        <div class="ons-grid ons-js-table-of-contents-container"></div>
        ```

        </details>

### **_Feedback_**

**_Remove feedback component and replace with pattern_**

[**Link to PR**](https://github.com/ONSdigital/design-system/pull/3572)

-   **Description of change:** The `onsFeedback` component has been removed.
-   **Reason for change:** The component was removed as it has been replaced by the `feedback` pattern.
-   **Migration steps:**

    1. Locate all instances of `onsFeedback` in your codebase.
    2. You could update any instance of `onsFeedback` with the pattern.

    -   <details>
        <summary><b>Click for example:</b></summary>

        ```njk
        OLD
            {% from "components/feedback/_macro.njk" import onsFeedback %}
            <div class="ons-grid">
                <div class="ons-grid__col ons-col-8@m">
                    {{
                        onsFeedback({
                            "heading": "What do you think about this service?",
                            "headingClasses": 'test',
                            "content": "Your comments will help us make improvements",
                            "linkUrl": "#0",
                            "linkText": "Give feedback"
                        })
                    }}
                </div>
            </div>

        NEW
            {% from "components/radios/_macro.njk" import onsRadios %}
            {% from "components/textarea/_macro.njk" import onsTextarea %}
            {% from "components/button/_macro.njk" import onsButton %}
            {% from "components/panel/_macro.njk" import onsPanel %}
            {% from "components/question/_macro.njk" import onsQuestion %}
            {%
                set pageConfig = {
                    "header": {
                        "title": "Survey title"
                    },
                    "footer": {}
                }
            %}
            {% block main %}
                <h1>Give feedback about this service</h1>

                {%
                    call onsQuestion ({
                    "variant": "success",
                        "id": "survey-success",
                        "iconType": "check",
                        "iconSize": "xl",
                        "classes": "ons-u-mb-m"
                    })
                %}
                    <h1>Thank you for completing the survey</h1>
                    <p>Your answers have been submitted</p>
                {% endcall %}
                <div class="ons-feedback">
                    <h2>Give feedback about this service</h2>

                    <form action="#0">
                        {{
                            onsRadios({
                                "legend": "Select what your feedback is about",
                                "name": "feedback-type",
                                "radios": [
                                    {
                                        "id": "questions-example-feedback-form",
                                        "label": {
                                            "text": "The questions",
                                            "description": "For example, questions not clear, answer options not relevant"
                                        },
                                        "value": "questions",
                                        "other": {
                                            "otherType": "select",
                                            "id": "other-select-feedback-form",
                                            "classes": "ons-input--block",
                                            "name": "topic",
                                            "label": {
                                                "text": "Question topic"
                                            },
                                            "options": [
                                                {
                                                    "value": "",
                                                    "text": "Select an option",
                                                    "disabled": true,
                                                    "selected": true
                                                },
                                                {
                                                    "value": "general",
                                                    "text": "General"
                                                },
                                                {
                                                    "value": "people-who-live-here",
                                                    "text": "People who live here"
                                                },
                                                {
                                                    "value": "visitors",
                                                    "text": "Visitors"
                                                },
                                                {
                                                    "value": "household-accommodation",
                                                    "text": "Household and accommodation"
                                                },
                                                {
                                                    "value": "personal-details",
                                                    "text": "Personal details"
                                                },
                                                {
                                                    "value": "health",
                                                    "text": "Health"
                                                },
                                                {
                                                    "value": "qualifications",
                                                    "text": "Qualifications"
                                                },
                                                {
                                                    "value": "employment",
                                                    "text": "Employment"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "id": "design-example-feedback-form",
                                        "label": {
                                            "text": "Page design and structure"
                                        },
                                        "value": "design"
                                    },
                                    {
                                        "id": "general-example-feedback-form",
                                        "label": {
                                            "text": "General feedback about this service"
                                        },
                                        "value": "general"
                                    }
                                ]
                            })
                        }}
                        {{
                            onsTextarea({
                                "id": "feedback-textarea-example-feedback-form",
                                "name": "feedback-text",
                                "label": {
                                    "text": "Enter your feedback",
                                    "description": "Do not include confidential information, such as your contact details"
                                },
                                "charCheckLimit": {
                                    "limit": 1000,
                                    "charCountSingular": "You have {x} character remaining",
                                    "charCountPlural": "You have {x} characters remaining"
                                }
                            })
                        }}
                        {{
                            onsButton({
                                "text": "Send feedback",
                                "classes": "ons-u-mt-m"
                            })
                        }}
                    </form>
                </div>
            {% endblock %}
        ```

        </details>

## Contact Information

For further assistance, please reach out to our support team:

-   **Email:** ons.design.system@ons.gov.uk
